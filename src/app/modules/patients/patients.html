<div class="page" animate.enter="slide-vertical-in" animate.leave="slide-vertical-out">
    <page-header [title]="'Pacientes'">
        <button class="secondary h-full">Novo paciente</button>
    </page-header>
    <div class="d-flex flex-col gap">
        <div class="d-flex gap">
            <input class="surface" type="text" placeholder="Pesquisar paciente">
            <button class="surface circle w-48 h-48">
                <span class="text-placeholder text-size-24 material-symbols-outlined">
                    search
                </span>
            </button>
        </div>
        <hr />
        <div class="d-flex flex-col gap" *skeleton="isLoading(); className: ['w-full', 'h-88']; size: 4">
            <details *ngFor="let patient of patients()" animate.enter="slide-vertical-in">
                <summary>
                    <div class="d-flex gap items-center">
                        <div class="w-40 h-40 hide-mobile">
                            <avatar class="w-full" [image]="patient?.image" [name]="patient?.fullName ?? ''"
                                alt="profile-picture">
                            </avatar>
                        </div>
                        <p class="text-text text-bold hide-mobile">
                            {{patient?.registration}}
                        </p>
                        <p class="text-text">
                            {{patient?.fullName}}
                        </p>
                    </div>
                    <div class="d-flex flex-row gap-8 justify-end">
                        <button data-tooltip="Editar" class="circle surface w-40 h-40">
                            <span class="material-symbols-outlined">
                                edit
                            </span>
                        </button>
                        <button data-tooltip="Agendar" class="circle surface w-40 h-40 hide-mobile">
                            <span class="material-symbols-outlined">
                                calendar_add_on
                            </span>
                        </button>
                        <button data-tooltip="Prontuários" class="circle surface w-40 h-40"
                            [routerLink]="`/pacientes/${patient.id}/`">
                            <span class="material-symbols-outlined ">
                                clinical_notes
                            </span>
                        </button>
                    </div>
                </summary>
                <div class="accordion-content d-flex flex-col gap">
                    <hr />
                    <div class="d-flex flex-col gap-8">
                        <span class="text-bold">
                            Idade: <span class="text-placeholder text-normal">
                                {{patient.age}} anos
                            </span>
                        </span>
                        <span class="text-bold">
                            Endereço: <span class="text-placeholder text-normal">
                                {{patient.address.street}}, nº {{patient.address.number}} - {{patient.address.city}},
                                {{patient.address.state}}
                            </span>
                        </span>
                        <span class="text-bold">
                            Telefone: <span class="text-placeholder text-normal">{{patient.phone}}</span>
                        </span>
                        <span class="text-bold">
                            Email: <span class="text-placeholder text-normal">{{patient.email}}</span>
                        </span>
                        <span class="text-bold">
                            Prontuários: <span class="text-placeholder text-normal">{{patient.totalRecords ?? 0}}</span>
                        </span>
                    </div>
                </div>
            </details>
        </div>
    </div>
</div>