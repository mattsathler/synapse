<div class="page" animate.enter="slide-vertical-in" animate.leave="slide-vertical-out">
    <page-header [title]="'Contas bancárias'">
        <button class="secondary h-full">Nova conta bancária</button>
    </page-header>
    <div class="d-flex flex-col gap">
        <div class="d-flex gap">
            <input class="surface" type="text" placeholder="Pesquisar conta bancária">
            <button class="surface circle w-48 h-48" data-tooltip="Pesquisar">
                <span class="text-placeholder text-size-24 material-symbols-outlined">
                    search
                </span>
            </button>
        </div>
        <hr />
        <ng-container>
            <div class="d-flex flex-col gap" *skeleton="(isLoading$ | async); className: ['w-full', 'h-88']; size: 4">
                <details *ngFor="let financeAccount of financeAccountsList$ | async" animate.enter="slide-vertical-in">
                    <summary>
                        <div class="d-flex gap items-center">
                            <p class="text-bold text-ellipsis-64"
                                [ngClass]="{'text-placeholder': !financeAccount.isActive, 'text-text': financeAccount.isActive}">
                                {{financeAccount?.title}}
                            </p>
                            <span class="text-secondary text-bold text-size-24 hide-mobile">
                                {{financeAccount.balance | currency:'BRL'}}
                            </span>
                        </div>
                        <div class="d-flex flex-row gap-8 justify-end">
                            <button data-tooltip="Detalhes" class="circle surface w-40 h-40"
                                [routerLink]="financeAccount.id">
                                <span class="material-symbols-outlined">
                                    receipt
                                </span>
                            </button>
                            <button data-tooltip="Criar transação" class="circle surface w-40 h-40"
                                [disabled]="!financeAccount.isActive">
                                <span class="material-symbols-outlined ">
                                    attach_money
                                </span>
                            </button>
                        </div>
                    </summary>
                    <div class="accordion-content d-flex flex-col gap">
                        <hr />
                        <div class="d-flex flex-col gap-8">
                            <span class="text-bold">
                                Número: <span class="text-placeholder text-normal">
                                    {{financeAccount.number}}
                                </span>
                            </span>
                            <span class="text-bold">
                                Banco: <span class="text-placeholder text-normal">
                                    {{financeAccount.bank.name}}
                                </span>
                            </span>
                            <span class="text-bold">
                                Transações: <span
                                    class="text-placeholder text-normal">{{financeAccount.transactions.length}}</span>
                            </span>
                        </div>
                        <div *ngIf="!financeAccount.isActive" class="d-flex flex-col gap">
                            <hr />
                            <div class="card warn">
                                <span class="text-text">
                                    Esta conta está desativada. Transações anteriores permanecem visíveis, mas não é
                                    possível registrar novas.
                                </span>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
        </ng-container>
    </div>
</div>